<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SunnySide Market - Register</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: "Poppins", sans-serif;
            background-color: #F5F2EA; /* neutral beige */
        }

        .overlay {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 0;
        }

        .register-card {
            background: #FFFFFF;
            border-radius: 18px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #E8E3D9;
        }

        .brand-title {
            font-size: 30px;
            font-weight: 700;
            color: #3B3B3B;
        }

        .brand-subtitle {
            color: #7A8A5B;
            font-size: 15px;
        }

        .btn-primary {
            background-color: #7A8A5B;
            border-color: #7A8A5B;
            border-radius: 10px;
            font-weight: 600;
        }

        .btn-primary:hover {
            background-color: #A77E58;
            border-color: #A77E58;
        }

        .form-control {
            border-radius: 10px;
            border: 1px solid #CFC9BD;
        }

        .form-control:focus {
            border-color: #7A8A5B;
            box-shadow: 0 0 8px rgba(122, 138, 91, 0.2);
        }

        .alert {
            border-radius: 10px;
            background-color: #FAF8F3;
            border: 1px solid #CFC9BD;
            color: #3B3B3B;
        }

        .divider {
            height: 1px;
            background-color: #E8E3D9;
            margin: 20px 0;
        }
    </style>
</head>

<body>

<div class="overlay">
    <div class="register-card">

        <!-- Logo -->
        <div class="text-center mb-4">
            <i class="bi bi-basket3" style="font-size: 45px; color:#7A8A5B;"></i>
             <a href="/" style="text-decoration:none; color:inherit;">
                    <h1 class="brand-title mt-2">Fresh Market</h1>
                </a>
            <p class="brand-subtitle">Natural • Fresh • Everyday</p>
        </div>

        <% if (messages && messages.length > 0) { %>
            <div class="alert alert-danger">
                <% messages.forEach(msg => { %>
                    <p class="m-0"><%= msg %></p>
                <% }) %>
            </div>
        <% } %>

        <form action="/register" method="POST">

            <div class="mb-3">
                <label class="fw-bold" style="color:#3B3B3B;">Username</label>
                <input type="text" class="form-control" name="username"
                       value="<%= formData?.username || '' %>" required>
            </div>

            <div class="mb-3">
                <label class="fw-bold" style="color:#3B3B3B;">Email</label>
                <input type="email" class="form-control" name="email"
                       value="<%= formData?.email || '' %>" required>
            </div>

            <div class="mb-3">
                <label class="fw-bold" style="color:#3B3B3B;">Password</label>
                <input type="password" class="form-control" name="password" required>
            </div>

            <div class="mb-3">
                <label class="fw-bold" style="color:#3B3B3B;">Address</label>
                <input type="text" class="form-control" name="address"
                       value="<%= formData?.address || '' %>" required>
            </div>

            <div class="mb-3">
                <label class="fw-bold" style="color:#3B3B3B;">Contact Number</label>
                <input type="text" class="form-control" name="contact"
                       value="<%= formData?.contact || '' %>" required>
            </div>

            <div class="mb-4">
                <label class="fw-bold" style="color:#3B3B3B;">Role</label>
                <select name="role" class="form-control" required>
                    <option value="user" <%= formData?.role === 'user' ? 'selected' : '' %>>User</option>
                    <option value="admin" <%= formData?.role === 'admin' ? 'selected' : '' %>>Admin</option>
                </select>
            </div>

            <button class="btn btn-primary w-100">Create Account</button>
        </form>

        <div class="divider"></div>

        <p class="text-center" style="color:#3B3B3B;">
            Already have an account?
            <a href="/login" style="color:#A77E58; font-weight:600; text-decoration:none;">
                Login here
            </a>
        </p>

    </div>
</div>

</body>
</html>
